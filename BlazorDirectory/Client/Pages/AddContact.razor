@page "/AddContact"
@using BlazorDirectory.Shared;
@inject HttpClient Http
@inject NavigationManager Navigation
<h3>Agregar Contactos</h3>

<EditForm Model="@_contact" OnValidSubmit="Post">
    <div class="container-fluid">
        <div class="form-group" row mb-1>
            <label>Nombre Contacto </label>
            <InputText class="form-control" @bind-Value="_contact.name" />
        </div>
        <div class="form-group" row mb-1>
            <label>Telefono</label>
            <InputText class="form-control" @bind-Value="_contact.phoneNumber" />
        </div>
        <div class="form-group" row mb-1>
            <label>Celular</label>
            <InputText class="form-control" @bind-Value="_contact.cellPhone" />
        </div>
        <br>
        <div class="form-group" row mb-1>
            <input type="submit" class="btn btn-success" value="Adicionar" />
        </div>
    </div>
</EditForm>

@code {
    private Contact _contact = new Contact();
    private async Task Post()
    {
        await Http.PostAsJsonAsync<Contact>("/api/contact/addContact", _contact);
        Navigation.NavigateTo($"/listContact");
    }
}